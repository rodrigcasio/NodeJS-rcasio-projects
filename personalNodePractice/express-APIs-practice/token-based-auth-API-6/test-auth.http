# --- JWT Authentication Testing flow ---

### 1. Attempting to access the guarded /dashboard (should fail: 401 Unauthorized)
GET http://localhost:3000/dashboard

### 2. Successful Login (POST request)
POST http://localhost:3000/login
Content-Type: application/json 

{
    "username": "Rodrigo",
    "password": "password123"
}

### Important: To automatically capture the response token for the next request, it is needed a response handler
# IT does not work, PLEASE JUST COPY PASTE THE TOKEN Beside Bearer <token>
@t = {{ response.body.token }}

### 3. Accessing the protected Dashbaord  with token
# The correct format: Authorization: Bearer <the_jwt_token_here>
# Here we added the full token provided
GET http://localhost:3000/dashboard
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJSb2RyaWdvIiwicm9sZSI6Im1lbWJlciIsImlhdCI6MTc2MTAxMzE4NywiZXhwIjoxNzYxMDE2Nzg3fQ.A-QAI7nRO9yxYk2EP_1rEy52lQYzqpsbnDQZ2ZHXy5c

### 4. Attempt to access with an Invalid Token (Should fail: 403 Forbidden)
GET http://localhost:3000/dashboard
Authorization: Bearer invalidToken
